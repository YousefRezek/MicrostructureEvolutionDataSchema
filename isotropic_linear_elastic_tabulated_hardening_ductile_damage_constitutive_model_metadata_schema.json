{
  "$schema": "https://json-schema.org/draft/2019-09/schema",
  "$id": "https://example.org/schemas/constitutive_child.schema.json",
  "version": "1.0.1",
  "type": "object",
  "description": "Child schema specializing elastic, plastic, and damage parameters; formally inherits from the general parent schema.",
  "allOf": [
    {
      "$ref": "https://raw.githubusercontent.com/Ronakshoghi/MetadataSchema/main/general_constitutive_model_metadata_schema.json"
    }
  ],
  "properties": {
    "$schema": {
      "type": "string",
      "description": "Reference to the schema used for this constitutive model."
    },

    "elastic_model_name": {
      "type": "string",
      "description": "Name of the elastic model.",
      "const": "Linear Elasticity"
    },
    "elastic_parameters": {
      "type": "object",
      "description": "Elastic properties (specialized).",
      "properties": {
        "youngs_modulus": {
          "type": "number",
          "description": "Young’s modulus (E) for isotropic linear elasticity.",
          "property": "Stiffness"
        },
        "poissons_ratio": {
          "type": "number",
          "description": "Poisson’s ratio (ν) for isotropic linear elasticity; dimensionless.",
          "property": "Dimensionless"
        }
      },
      "required": ["youngs_modulus", "poissons_ratio"],
      "additionalProperties": true
    },

    "plastic_model_name": {
      "type": "string",
      "description": "Name of the plasticity model.",
      "const": "Tabulated Isotropic Hardening"
    },
    "plastic_parameters": {
      "type": "object",
      "description": "Plastic properties (specialized).",
      "properties": {
        "tabulated_points": {
          "type": "array",
          "description": "Tabulated plastic curve as pairs of (plastic_strain, stress).",
          "items": {
            "type": "object",
            "properties": {
              "plastic_strain": {
                "type": "number",
                "description": "Equivalent plastic strain (dimensionless).",
                "property": "Strain"
              },
              "stress": {
                "type": "number",
                "description": "Yield/flow stress corresponding to the plastic strain.",
                "property": "Stress"
              }
            },
            "required": ["plastic_strain", "stress"],
            "additionalProperties": true
          },
          "minItems": 1
        }
      },
      "required": ["tabulated_points"],
      "additionalProperties": true
    },

    "damage_model_name": {
      "type": "string",
      "description": "Name of the damage model.",
      "const": "Ductile with Displacement Evolution"
    },
    "damage_parameters": {
      "type": "object",
      "description": "Damage model properties (specialized).",
      "properties": {
        "damage_init": {
          "type": "object",
          "description": "Ductile damage initiation parameters.",
          "properties": {
            "criterion": {
              "type": "string",
              "enum": ["ductile", "DUCTILE"],
              "description": "Damage initiation criterion name."
            },
            "fracture_strain": {
              "type": "number",
              "description": "Fracture strain at initiation (dimensionless).",
              "property": "Strain"
            },
            "stress_triaxiality": {
              "type": "number",
              "description": "Stress triaxiality used for point definition (σ_m/σ_eq).",
              "property": "Dimensionless"
            },
            "strain_rate": {
              "type": "number",
              "minimum": 0.0,
              "description": "Equivalent plastic strain rate.",
              "property": "1/s"
            }
          },
          "required": ["criterion", "fracture_strain", "stress_triaxiality", "strain_rate"],
          "additionalProperties": true
        },
        "damage_evol": {
          "type": "object",
          "description": "Damage evolution parameters.",
          "properties": {
            "evolution_type": {
              "type": "string",
              "enum": ["displacement", "DISPLACEMENT"],
              "description": "Evolution measure type."
            },
            "displacement_at_failure": {
              "type": "number",
              "exclusiveMinimum": 0.0,
              "description": "Characteristic displacement at failure.",
              "property": "Length"
            }
          },
          "required": ["evolution_type", "displacement_at_failure"],
          "additionalProperties": true
        }
      },
      "required": ["damage_init", "damage_evol"],
      "additionalProperties": true
    }
  },

  "units": {
    "type": "object",
    "description": "Units for different physical properties, defined by the user (optional).",
    "properties": {
      "Stress": { "type": "string", "description": "Unit for stress (e.g., MPa)." },
      "Stiffness": { "type": "string", "description": "Unit for stiffness (e.g., MPa)." },
      "Strain": { "type": "string", "description": "Unit for strain (dimensionless, e.g., '1')." },
      "Dimensionless": { "type": "string", "description": "Unit for dimensionless quantities (use '1')." },
      "Length": { "type": "string", "description": "Unit for length (e.g., mm, m)." },
      "1/s": { "type": "string", "description": "Unit for rate (per second, '1/s')." }
    },
    "required": ["Stress", "Stiffness", "Strain", "Dimensionless", "Length", "1/s"],
    "additionalProperties": true
  },

  "required": [
    "elastic_model_name",
    "elastic_parameters",
    "plastic_model_name",
    "plastic_parameters",
    "damage_model_name",
    "damage_parameters",
    "units"
  ],

  "additionalProperties": true
}
